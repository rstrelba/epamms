# üîß –û—Ç–ª–∞–¥–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –∫–∞–º–µ—Ä—ã –Ω–∞ iOS

## –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ iOS –≤–æ–∑–Ω–∏–∫–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ `isPermanentlyDenied` –¥–∞–∂–µ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω ‚úÖ
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—Ç–∞—Ç—É—Å–æ–≤ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ `undetermined`

### 2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### –ù–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ:
1. **–ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞:**
   ```bash
   # –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
   # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
   # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–Ω–æ–≤–æ
   ```

2. **–°–±—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π (iOS 15+):**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –û—Å–Ω–æ–≤–Ω—ã–µ ‚Üí –ü–µ—Ä–µ–Ω–æ—Å –∏–ª–∏ —Å–±—Ä–æ—Å iPhone ‚Üí –°–±—Ä–æ—Å ‚Üí –°–±—Ä–æ—Å–∏—Ç—å –≥–µ–æ–ø–æ–∑–∏—Ü–∏—é –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å

#### –í —Å–∏–º—É–ª—è—Ç–æ—Ä–µ:
1. **–°–±—Ä–æ—Å —Å–∏–º—É–ª—è—Ç–æ—Ä–∞:**
   ```bash
   # –í Xcode: Device ‚Üí Erase All Content and Settings
   # –ò–ª–∏ —á–µ—Ä–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª:
   xcrun simctl erase all
   ```

2. **–°–±—Ä–æ—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π:**
   ```bash
   xcrun simctl privacy booted reset all com.yourapp.bundleid
   ```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã –ª–æ–≥–∏:
```
üì∏ Camera permission status: PermissionStatus.denied
üì∏ isGranted: false
üì∏ isDenied: true
üì∏ isPermanentlyDenied: false
üì∏ isRestricted: false
üì∏ isLimited: false
üì∏ Requesting camera permission...
üì∏ Permission request result: PermissionStatus.granted
üì∏ Final camera permission check: PermissionStatus.granted
```

### 4. –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã

#### A. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ iOS
- iOS –º–æ–∂–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ—à–µ–Ω–∏—è –æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è—Ö
- –†–µ—à–µ–Ω–∏–µ: –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

#### B. –ü—Ä–æ–±–ª–µ–º—ã —Å Bundle ID
- –ï—Å–ª–∏ Bundle ID –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è, iOS –º–æ–∂–µ—Ç –ø–æ–º–Ω–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –†–µ—à–µ–Ω–∏–µ: –≤—Ä–µ–º–µ–Ω–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å Bundle ID –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

#### C. –ü—Ä–æ–±–ª–µ–º—ã —Å Provisioning Profile
- –°—Ç–∞—Ä—ã–π –ø—Ä–æ—Ñ–∏–ª—å –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- –†–µ—à–µ–Ω–∏–µ: —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å

#### D. –°–∏–º—É–ª—è—Ç–æ—Ä vs –†–µ–∞–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
- –ü–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—å—Å—è
- –†–µ—à–µ–Ω–∏–µ: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

### 5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –¥–æ–±–∞–≤—å –≤ Info.plist:
```xml
<key>NSCameraUsageDescription</key>
<string>–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–∞–º–µ—Ä—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è</string>
```

### 6. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç, –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å:
```dart
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–∞–º–µ—Ä—ã —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–π —Å–ø–æ—Å–æ–±
final cameras = await availableCameras();
if (cameras.isEmpty) {
  // –ö–∞–º–µ—Ä–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –ó–∞–ø—É—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–æ–ø—Ä–æ–±—É–π —Å–¥–µ–ª–∞—Ç—å —Å–µ–ª—Ñ–∏
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏
4. –ï—Å–ª–∏ –≤–∏–¥–∏—à—å `isPermanentlyDenied: true` —Å—Ä–∞–∑—É - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–∏ iOS

## –ö–æ–Ω—Ç–∞–∫—Ç—ã
–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –Ω–µ —Ä–µ—à–∞–µ—Ç—Å—è - –ø–∏—à–∏, —Ä–∞–∑–±–µ—Ä–µ–º—Å—è! üöÄ
